{{!-- <div class="lds-dual-ring loader" id="loader"><h3>Cargando ... </h3></div> --}}
<div class="main" >
 <h3> <i class="fa fa-users" aria-hidden="true"></i> ABC de Clientes</h3> 

    <div class="w-50 p-3 mx-auto" >
        <div class="input-group mb-3 ">
            <input type="search" id="buscar" placeholder="Buscar cliente (id cliente / paterno, materno, nombres) . . . ." class="form-control" >
            <div href="#" title="Buscar Cliente" id="btnBuscar" class="btn btn-info"><i class="fa fa-search" aria-hidden="true"></i></div>
        </div>
    </div>

{{#if clientes}}
{{!-- w-75 --}}
<div class="table  mx-auto">
    <div class="row">
            <div class="col mx-auto" align="right">
                <table id="MyTable" class="table-responsive-lg table-striped table-bordered table-hover" cellspacing="0" >   
                    <thead class="thead-dark" align="center">
                        <th>Id</th>
                        <th >Nombre</th>
                        <th >Dirección</th>
                        <th >Colonia</th>
                        <th >CP</th>
                        <th >Ciuadad</th>
                        <th>Telefono</th>
                        <th>Celular</th>
                        <th align="center">Menu 

                            <a href="/clientes/add" title="Nuevo Registro" class=""><span class="material-icons md-24">add_box</span></a> 
                        </th>                  
                    </thead>
                    <tbody>
                        {{#each clientes}}
                        <tr>
                            <td align="center">{{ id_cliente }}</td>
                            <td>
                            <a href="/vehiculos/dis/{{ id_cliente }}" onclick="" title="Mostrar Vehículos de Cliente">{{ nombre }} </td>
                            </td>
                            <td>{{ direccion }}</td>
                            <td>{{ colonia }}</td>
                            <td align="center">{{ cp }}</td>
                            <td align="center">{{ ciudad }}</td>
                            <td align="center">{{ telefono }}</td>
                            <td align="center">{{ celular }}</td>
                            <td align="center"> 
                            
                            <a href="/clientes/edit/{{ id_cliente }}" onclick="" title="Editar registro"> 
                            <span class="material-icons md-24">edit_note</span>
                            </a>    
                            {{!-- <a href="#" onclick="return EliminaRegistro({{id_cliente}}, 'cliente')" title="Borrar Registro"><span class="material-icons md-24">delete_outline</span></a>                           --}}
                            </td>
                        </tr>
                        {{/each}}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
</div>

{{/if}}

<script>
    const buscar = document.querySelector('#buscar');
    const btnBuscar = document.querySelector('#btnBuscar');
  
    const busca = () => {
    const valor_busqueda = buscar.value

    if (valor_busqueda.length > 0) {
        window.location="/clientes/search/"+[valor_busqueda];
    } else { 
    var notification = alertify.notify('La busqueda debe de contener almenos un caracter', 'success', 5, function(){  console.log('dismissed'); });
    Run
    }   

    } 

    //buscar.addEventListener('enter', busca)
    btnBuscar.addEventListener('click', busca)
</script>
 
 {{!-- <script src="/loader.js"></script> --}}
